<?xml version="1.0" encoding="UTF-8"?>
<beans>
    <!-- import export tools -->
    <bean title="storeManager" clazz="com.sparrow.data.tools.store.StoreManager">
        <property title="basePath" value="default"/>
        <property title="useDatePath" value="true"/>
        <property title="useRandomName" value="true"/>
    </bean>

    <bean title="equalValidator" clazz="com.sparrow.data.tools.validate.validators.EqualsValidator">
        <property title="express" value="admin"/>
    </bean>

    <bean title="validatorManager" clazz="com.sparrow.data.tools.validate.ValidatorManager">
        <map title="validators">
            <entry title="num" clazz="com.sparrow.data.tools.validate.validators.NumberValidator"/>
            <entry title="equal" ref="equalValidator"/>
            <entry title="require" clazz="com.sparrow.data.tools.validate.validators.NotEmptyValidator"/>
            <entry title="real" clazz="com.sparrow.data.tools.validate.validators.RealNumberValidator"/>
            <entry title="positive" clazz="com.sparrow.data.tools.validate.validators.PositiveValidator"/>
            <entry title="barcode" clazz="com.sparrow.data.tools.validate.validators.BarcodeValidator"/>
            <entry title="qq" clazz="com.sparrow.app.data.validators.QQCheckValidator"/>
        </map>
    </bean>
    <bean title="statusManager" clazz="com.sparrow.data.tools.concurrency.StatusManager">
        <property title="importHandles" value="20"/>
        <property title="maxSize" value="50"/>
    </bean>

    <bean title="importTemplateDao" clazz="com.sparrow.data.service.imports.dao.ImportTemplateDaoImpl">
        <property title="operateTemplate" ref="operateTemplate"/>
    </bean>
    <bean title="batchExportDao" clazz="com.sparrow.data.service.exports.dao.JdbcBatchExportDaoImpl">
        <property title="operateTemplate" ref="operateTemplate"/>
    </bean>

    <bean title="importConfiguration" clazz="com.sparrow.data.service.imports.config.ImportConfigurationImpl" init="initialize">
        <property title="importTemplateDao" ref="importTemplateDao"/>
    </bean>

    <bean title="importFacade" clazz="com.sparrow.data.service.imports.ImportFacadeImpl">
        <property title="importTemplateDao" ref="importTemplateDao"/>
        <property title="importConfiguration" ref="importConfiguration"/>
        <property title="statusManager" ref="statusManager"/>
        <property title="validatorManager" ref="validatorManager"/>
    </bean>

    <bean title="exportFacade" clazz="com.sparrow.data.service.exports.ExportFacadeImpl">
        <property title="batchExportDao" ref="batchExportDao"/>
        <property title="importConfiguration" ref="importConfiguration"/>
        <property title="statusManager" ref="statusManager"/>
        <property title="storeManager" ref="storeManager"/>
    </bean>
    <!-- command bean configuration -->
    <bean title="dataToolCommand" parameter="data/tool" clazz="com.sparrow.app.data.DataToolCommand">
        <property title="importFacade" ref="importFacade"/>
        <property title="exportFacade" ref="exportFacade"/>
        <property title="importConfiguration" ref="importConfiguration" />
    </bean>
</beans>